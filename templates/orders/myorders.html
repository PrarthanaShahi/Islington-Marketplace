{% extends 'master/base.html' %}
{% load static %}
{% block content %} 
    
<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-conten padding-y bg">
  <div class="container">
    <div class="row">
      <aside class="col-md-3">
        <!--   SIDEBAR   -->
        <ul class="list-group">
          <a class="list-group-item" href="/dashboard/">
            Dashboard
          </a>
          <a class="list-group-item active" href="/my-orders/">
            My Orders
          </a>
          <a class="list-group-item" href="/edit-profile/">
            Edit Profile
          </a>
          <a class="list-group-item" href="#"> My Selling Items </a>
          <a class="list-group-item" href="#"> Received Orders </a>
          <a class="list-group-item" href="/change-password/">
            Change Password
          </a>
        </ul>
        <br />
        <a class="btn btn-light btn-block" href="/accounts/logout/">
          <i class="fa fa-power-off"></i> <span class="text">Log out</span>
        </a>
        <!--   SIDEBAR .//END   -->
      </aside>
      <main class="col-md-9">
        <article class="card">
          <header class="card-header">
            <!-- Displaying dynamic order ID and date -->
            <strong class="d-inline-block mr-3">Order ID: {{ order.order_number }}</strong>
            <span>Order Date: {{ order.created_at|date:"d F Y" }}</span>
          </header>
          <div class="card-body">
            <div class="row">
              <div class="col-md-8">
                <h6 class="text-muted">Delivery to</h6>
                <p>
                  <!-- Displaying dynamic user and address information -->
                  {{ order.full_name }} <br />
                  Phone: {{ order.phone }} Email: {{ order.email }} <br />
                  Location: {{ order.address_line_1 }}, {{ order.address_line_2 }} <br />
                  {{ order.city }}, {{ order.state }}, {{ order.country }} <br />
                  P.O. Box: {{ order.zip_code }}
                </p>
              </div>
              <div class="col-md-4">
                <h6 class="text-muted">Payment</h6>
                <span class="text-success">
                  <i class="fab fa-lg fa-cc-visa"></i>
                  Visa **** 4216
                </span>
                <p>
                  <!-- Displaying dynamic pricing information -->
                  Subtotal: ${{ order.sub_total }} <br />
                  Tax: ${{ order.tax }} <br />
                  <span class="b">Total: ${{ order.grand_total }} </span>
                </p>
              </div>
            </div>
            <!-- row.// -->
          </div>
          <!-- card-body .// -->
          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                </tr>
              </thead>
              <tbody>
                <!-- Looping through all order items to display them dynamically -->
                {% for item in order_items %}
                <tr>
                  <td width="65">
                    <img
                      src="{{ item.product.product_image.url }}"
                      class="img-xs border"
                      alt="{{ item.product.name }}"
                    />
                  </td>
                  <td>
                    <p class="title mb-0">{{ item.product.name }}</p>
                    <var class="price text-muted">USD {{ item.product.price }}</var>
                  </td>
                  <td>
                    {{ item.quantity }}
                  </td>
                  <td>
                    <var class="price">USD {{ item.sub_total }}</var>
                  </td>
                  <td width="250">
                    <a href="#" class="btn btn-outline-primary">Track order</a>
                    <a href="#" class="btn btn-light"> Details </a>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
          <!-- table-responsive .end// -->
        </article>
        <!-- order-group.// -->
      </main>
    </div>
    <!-- row.// -->
  </div>
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->
{% endblock %}
